# --- 核心机型设置 (阿里云 AP8220 专用) ---
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq807x=y
CONFIG_TARGET_qualcommax_ipq807x_DEVICE_aliyun_ap8220=y
CONFIG_PACKAGE_ipq-wifi-aliyun_ap8220=y

# --- 固件与内核模块 ---
CONFIG_PACKAGE_kmod-ath11k=y
CONFIG_PACKAGE_ath11k-firmware-ipq8074=y
CONFIG_PACKAGE_ath11k-firmware-qcn9074=y
# WPA3 加密支持
CONFIG_PACKAGE_wpad-openssl=y
CONFIG_PACKAGE_wpad-mesh-openssl=y
CONFIG_PACKAGE_wpad-basic-mbedtls=n
CONFIG_PACKAGE_hostapd-common=y
CONFIG_PACKAGE_hostapd-utils=y

# --- 满血 NSS 硬件加速 (高通专用) ---
CONFIG_PACKAGE_kmod-qca-nss-dp=y
CONFIG_PACKAGE_kmod-qca-nss-sfe=y
CONFIG_PACKAGE_kmod-qca-nss-drv=y
CONFIG_PACKAGE_kmod-qca-nss-ecm=y
CONFIG_PACKAGE_nss-firmware-ipq8074=y
# 启用 TurboACC 
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-i18n-turboacc-zh-cn=y
# 强制安装 BBR 内核模块 (配合 TurboACC 使用)
CONFIG_PACKAGE_kmod-tcp-bbr=y

# --- 编译器优化 ---
CONFIG_BUILD_PATENTED=y
CONFIG_CCACHE=n
# 针对 Cortex-A53 优化
CONFIG_TARGET_OPTIMIZATION="-O2 -pipe -mcpu=cortex-a53+crc+crypto"

# --- LuCI 网页管理界面 ---
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-light=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-ssl=y

# --- SSL 优化 (OpenSSL > MbedTLS) ---
CONFIG_PACKAGE_libustream-openssl=y
CONFIG_PACKAGE_libustream-mbedtls=n
CONFIG_PACKAGE_libopenssl=y
CONFIG_OPENSSL_OPTIMIZE_SPEED=y

# --- 常用库优化 ---
CONFIG_ZLIB_OPTIMIZE_SPEED=y
CONFIG_ZSTD_OPTIMIZE_O3=y


# --- 语言设置 (中文) ---
CONFIG_LUCI_LANG_zh_cn=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y
CONFIG_PACKAGE_luci-i18n-opkg-zh-cn=y
CONFIG_PACKAGE_luci-i18n-package-manager-zh-cn=y

# --- 必备插件 ---
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-sqm=y
CONFIG_PACKAGE_kmod-ifb=y

# 开启 iptables 兼容命令
CONFIG_PACKAGE_iptables-nft=y
CONFIG_PACKAGE_ip6tables-nft=y
CONFIG_PACKAGE_iptables-mod-extra=y

# --- 常用工具 ---
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget-ssl=y
CONFIG_PACKAGE_nano=y
CONFIG_PACKAGE_htop=y
CONFIG_LIBCURL_OPENSSL=y
CONFIG_LIBCURL_MBEDTLS=n
CONFIG_PACKAGE_rsyncd=y

# --- 默认设置 ---
CONFIG_PACKAGE_default-settings-chn=y

# --- 科学上网神器 (Passwall & OpenClash) ---
# Passwall 主程序
CONFIG_PACKAGE_luci-app-passwall=y
CONFIG_PACKAGE_luci-i18n-passwall-zh-cn=y
# Passwall 核心依赖
CONFIG_PACKAGE_xray-core=y
CONFIG_PACKAGE_v2ray-geoip=y
CONFIG_PACKAGE_v2ray-geosite=y
CONFIG_PACKAGE_v2dat=y
CONFIG_PACKAGE_conntrack=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_jq=y

# OpenClash 主程序 (猫咪)
CONFIG_PACKAGE_luci-app-openclash=y
# 注意：OpenClash 自带中文，通常不需要额外的 i18n 包，但为了保险可以加上
CONFIG_PACKAGE_luci-i18n-openclash-zh-cn=y

# ---  AdGuard Home ---
CONFIG_PACKAGE_adguardhome=y
CONFIG_PACKAGE_luci-app-adguardhome=y
CONFIG_PACKAGE_luci-i18n-adguardhome-zh-cn=y
CONFIG_PACKAGE_upx=y
CONFIG_PACKAGE_luci-compat=y

# MosDNS (DNS 转发器)
CONFIG_PACKAGE_luci-app-mosdns=y
CONFIG_PACKAGE_luci-i18n-mosdns-zh-cn=y
CONFIG_PACKAGE_mosdns=y
CONFIG_PACKAGE_v2dat=y

# --- 网络唤醒 (WOL) ---
CONFIG_PACKAGE_luci-app-wol=y
CONFIG_PACKAGE_luci-i18n-wol-zh-cn=y

# ---  SmartDNS ---
CONFIG_PACKAGE_luci-app-smartdns=y
CONFIG_PACKAGE_luci-i18n-smartdns-zh-cn=y

# ZeroTier (内网穿透，稳定)
CONFIG_PACKAGE_luci-app-zerotier=y
CONFIG_PACKAGE_luci-i18n-zerotier-zh-cn=y

# EasyTier (P2P 组网)
CONFIG_PACKAGE_easytier=y
CONFIG_PACKAGE_luci-app-easytier=y
CONFIG_PACKAGE_luci-i18n-easytier-zh-cn=y

# DDNSTO (远程控制)
CONFIG_PACKAGE_luci-app-ddnsto=y
CONFIG_PACKAGE_luci-i18n-ddnsto-zh-cn=y

# --- 性能优化 (irqbalance) ---
CONFIG_PACKAGE_irqbalance=y
CONFIG_PACKAGE_luci-app-irqbalance=y

# UPnP 自动端口映射 (玩游戏/BT下载必备)
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-i18n-upnp-zh-cn=y

# 文件管理器 (网页版资源管理)
CONFIG_PACKAGE_luci-app-filemanager=y
CONFIG_PACKAGE_luci-i18n-filemanager-zh-cn=y
# SFTP 服务端 (让 WinSCP 传输速度跑满，比 SCP 快得多)
CONFIG_PACKAGE_openssh-sftp-server=y
# 开启 RPC 接口 (第三方软件控制路由器必备)
CONFIG_PACKAGE_luci-mod-rpc=y
# 兼容性支持库 (新版系统运行旧插件必须)
CONFIG_PACKAGE_luci-compat=y
# IPKG 库支持 (部分老接口需要它)
CONFIG_PACKAGE_luci-lib-ipkg=y
# 网页终端 (在网页里输命令)
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
CONFIG_PACKAGE_ttyd=y

# Argon 主题 
CONFIG_PACKAGE_luci-theme-argon=y
# 设置为默认主题 
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-i18n-argon-config-zh-cn=y
# --- KuCat主题: ---
CONFIG_PACKAGE_luci-theme-kucat=y

# CPU 性能优化调节 (CPU 频率设置)
CONFIG_PACKAGE_luci-app-cpufreq=y
CONFIG_PACKAGE_luci-i18n-cpufreq-zh-cn=y

# --- 上网时间控制 ---
CONFIG_PACKAGE_luci-app-access-control=y
CONFIG_PACKAGE_luci-i18n-access-control-zh-cn=y

# 分区扩容工具包 (fdisk, parted, resize2fs)
CONFIG_PACKAGE_fdisk=y
CONFIG_PACKAGE_parted=y
CONFIG_PACKAGE_resize2fs=y
CONFIG_PACKAGE_lsblk=y
# 挂载点管理
CONFIG_PACKAGE_luci-app-diskman=y
CONFIG_PACKAGE_luci-i18n-diskman-zh-cn=y
# 读取硬盘 S.M.A.R.T 信息 (温度/健康度)
CONFIG_PACKAGE_smartmontools=y
# 硬盘型号数据库 (能识别更多新硬盘)
CONFIG_PACKAGE_smartmontools-drivedb=y
# 硬盘休眠控制 (让硬盘不工作时停转省电)
CONFIG_PACKAGE_hd-idle=y
CONFIG_PACKAGE_luci-app-hd-idle=y
CONFIG_PACKAGE_luci-i18n-hd-idle-zh-cn=y

# --- Docker 容器 (轻量化配置) ---
# Docker 界面 (Dockerman)
# CONFIG_PACKAGE_luci-app-dockerman=y
# CONFIG_PACKAGE_luci-i18n-dockerman-zh-cn=y
# Docker 引擎 (标准版，通过Zram优化内存)
# CONFIG_PACKAGE_docker=y
# CONFIG_PACKAGE_dockerd=y
# Docker Compose (通过 yaml 文件一键部署复杂容器)
# CONFIG_PACKAGE_docker-compose=y
# 这些是 Docker 桥接和虚拟网络的核心依赖
# CONFIG_PACKAGE_kmod-veth=y
# CONFIG_PACKAGE_kmod-macvlan=y
# CONFIG_PACKAGE_kmod-dummy=y
# CONFIG_PACKAGE_kmod-bridge=y
# 网桥过滤 (Docker 高级网络隔离需要)
# CONFIG_PACKAGE_kmod-br-netfilter=y
# Zram 内存压缩 (给 Docker 腾空间，小内存救星)
# CONFIG_PACKAGE_zram-swap=y
# CONFIG_PACKAGE_kmod-zram=y
# --- 压缩算法库 (ZRAM 和 文件系统依赖) ---
# CONFIG_PACKAGE_kmod-lib-zstd=y
# CONFIG_PACKAGE_kmod-lib-lz4=y
# CONFIG_PACKAGE_kmod-lib-crc32c=y

# 网络测速工具
CONFIG_PACKAGE_luci-i18n-netspeedtest-zh-cn=y
# 连接状态追踪
CONFIG_PACKAGE_conntrackd=y
# 802.1Q VLAN 支持 (划分 VLAN 必备)
CONFIG_PACKAGE_kmod-8021q=y

# --- 文件系统支持 ---
# FAT32/NTFS 常用编码
CONFIG_PACKAGE_kmod-nls-cp437=y
CONFIG_PACKAGE_kmod-nls-iso8859-1=y
# 基础 USB 存储驱动
CONFIG_PACKAGE_kmod-usb-storage=y
# UAS 协议
CONFIG_PACKAGE_kmod-usb-storage-uas=y
# USB 3.0 支持
CONFIG_PACKAGE_kmod-usb3=y
# 读写 FAT32 
CONFIG_PACKAGE_kmod-fs-vfat=y
# 读写 exFAT 
CONFIG_PACKAGE_kmod-fs-exfat=y
# 读写 NTFS 
CONFIG_PACKAGE_kmod-fs-ntfs3=y
# 语言编码支持 (防止中文文件名乱码)
CONFIG_PACKAGE_kmod-nls-utf8=y
# TUN/TAP 虚拟网卡
CONFIG_PACKAGE_kmod-tun=y
# Cake 队列管理 
CONFIG_PACKAGE_kmod-sched-cake=y
# L2TP 协议支持 
CONFIG_PACKAGE_kmod-l2tp=y
# IPSec 支持 (企业级 VPN)
CONFIG_PACKAGE_kmod-ipsec=y
# TCP 连接分析 (给某些监控软件用)
CONFIG_PACKAGE_kmod-inet-diag=y

# --- WireGuard 协议 (内核级高性能) ---
CONFIG_PACKAGE_kmod-wireguard=y
# 必备的加密算法库
CONFIG_PACKAGE_kmod-crypto-lib-chacha20poly1305=y
CONFIG_PACKAGE_kmod-crypto-chacha20poly1305=y

# --- 企业级隧道协议 (特殊网络需求) ---
# GRE 隧道 (企业组网常用)
CONFIG_PACKAGE_kmod-gre=y
CONFIG_PACKAGE_kmod-gre6=y
# IPIP 隧道
CONFIG_PACKAGE_kmod-ipip=y

# --- 解决 Dnsmasq 分离问题 (源码风格) ---
# 禁用基础版
CONFIG_PACKAGE_dnsmasq=n
# 启用完整版 (All-in-one)
CONFIG_PACKAGE_dnsmasq-full=y


# --- 确保网络测速使用源码版 ---
CONFIG_PACKAGE_luci-app-netspeedtest=y