# --- 核心机型设置 (阿里云 AP8220 专用) ---
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq807x=y
CONFIG_TARGET_qualcommax_ipq807x_DEVICE_aliyun_ap8220=y
CONFIG_PACKAGE_ipq-wifi-aliyun_ap8220=y

# --- 固件与内核模块 ---
CONFIG_PACKAGE_kmod-ath11k=y
CONFIG_PACKAGE_ath11k-firmware-ipq8074=y
CONFIG_PACKAGE_ath11k-firmware-qcn9074=y
# WPA3 加密支持
CONFIG_PACKAGE_wpad-openssl=y
CONFIG_PACKAGE_wpad-mesh-openssl=y
CONFIG_PACKAGE_wpad-basic-mbedtls=n
CONFIG_PACKAGE_hostapd-common=y
CONFIG_PACKAGE_hostapd-utils=y

# --- 满血 NSS 硬件加速 (高通专用) ---
CONFIG_PACKAGE_kmod-qca-nss-dp=y
CONFIG_PACKAGE_kmod-qca-nss-sfe=y
CONFIG_ATH11K_NSS_SUPPORT=y
CONFIG_ATH11K_NSS_MESH_SUPPORT=y
CONFIG_PACKAGE_MAC80211_NSS_SUPPORT=y
CONFIG_PACKAGE_kmod-qca-nss-drv=y
CONFIG_PACKAGE_kmod-qca-nss-drv-bridge-mgr=y
CONFIG_PACKAGE_kmod-qca-nss-ecm=y
# 额外的NSS包
CONFIG_PACKAGE_kmod-qca-nss-drv-vlan-mgr=y
CONFIG_PACKAGE_kmod-qca-mcs=y
CONFIG_PACKAGE_kmod-qca-nss-drv-pppoe=y
CONFIG_PACKAGE_nss-firmware-ipq8074=y
# 启用 TurboACC 
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-i18n-turboacc-zh-cn=y
# 强制安装 BBR 内核模块 (配合 TurboACC 使用)
CONFIG_PACKAGE_kmod-tcp-bbr=y

# --- 编译器优化 ---
CONFIG_BUILD_PATENTED=y
CONFIG_CCACHE=n
# 针对 Cortex-A53 优化
CONFIG_TARGET_OPTIMIZATION="-O2 -pipe -mcpu=cortex-a53+crc+crypto"

# --- LuCI 网页管理界面 ---
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-light=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-ssl=y

# --- SSL 优化 (OpenSSL > MbedTLS) ---
CONFIG_PACKAGE_libustream-openssl=y
CONFIG_PACKAGE_libustream-mbedtls=n
CONFIG_PACKAGE_libopenssl=y
CONFIG_OPENSSL_OPTIMIZE_SPEED=y

# --- 常用库优化 ---
CONFIG_ZLIB_OPTIMIZE_SPEED=y
CONFIG_ZSTD_OPTIMIZE_O3=y

# --- 必须开启 NSS Feed，否则上面的 NSS 驱动全部报错 ---
CONFIG_FEED_nss_packages=y
CONFIG_FEED_sqm_scripts_nss=y

# --- 语言设置 (中文) ---
CONFIG_LUCI_LANG_zh_cn=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y
CONFIG_PACKAGE_luci-i18n-opkg-zh-cn=y
CONFIG_PACKAGE_luci-i18n-package-manager-zh-cn=y

# --- 必备插件 ---
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-autoreboot=y
CONFIG_PACKAGE_luci-i18n-autoreboot-zh-cn=y
CONFIG_PACKAGE_luci-app-diskman=y
CONFIG_PACKAGE_luci-i18n-diskman-zh-cn=y
CONFIG_PACKAGE_luci-app-sqm=y

# 开启 iptables 兼容命令
CONFIG_PACKAGE_iptables-nft=y
CONFIG_PACKAGE_ip6tables-nft=y
CONFIG_PACKAGE_iptables-mod-extra=y

# --- 常用工具 ---
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget-ssl=y
CONFIG_PACKAGE_nano=y
CONFIG_PACKAGE_htop=y
CONFIG_LIBCURL_OPENSSL=y
CONFIG_LIBCURL_MBEDTLS=n
CONFIG_PACKAGE_rsyncd=y

# --- 默认设置 ---
CONFIG_PACKAGE_default-settings-chn=y

# --- 科学上网神器 (Passwall & OpenClash) ---
# Passwall 主程序
CONFIG_PACKAGE_luci-app-passwall=y
CONFIG_PACKAGE_luci-i18n-passwall-zh-cn=y
# Passwall 核心依赖
CONFIG_PACKAGE_xray-core=y
CONFIG_PACKAGE_v2ray-geoip=y
CONFIG_PACKAGE_v2ray-geosite=y
CONFIG_PACKAGE_v2dat=y
CONFIG_PACKAGE_conntrack=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_jq=y

# OpenClash 主程序 (猫咪)
CONFIG_PACKAGE_luci-app-openclash=y
# 注意：OpenClash 自带中文，通常不需要额外的 i18n 包，但为了保险可以加上
CONFIG_PACKAGE_luci-i18n-openclash-zh-cn=y

# ---  AdGuard Home ---
CONFIG_PACKAGE_adguardhome=y
CONFIG_PACKAGE_luci-app-adguardhome=y
CONFIG_PACKAGE_luci-i18n-adguardhome-zh-cn=y
CONFIG_PACKAGE_upx=y

# MosDNS (DNS 转发器)
CONFIG_PACKAGE_luci-app-mosdns=y
CONFIG_PACKAGE_luci-i18n-mosdns-zh-cn=y

# --- 网络唤醒 (WOL) ---
CONFIG_PACKAGE_luci-app-wol=y
CONFIG_PACKAGE_luci-i18n-wol-zh-cn=y

# ---  SmartDNS ---
CONFIG_PACKAGE_luci-app-smartdns=y
CONFIG_PACKAGE_luci-i18n-smartdns-zh-cn=y

# ZeroTier (内网穿透，稳定)
CONFIG_PACKAGE_luci-app-zerotier=y
CONFIG_PACKAGE_luci-i18n-zerotier-zh-cn=y

# EasyTier (P2P 组网)
CONFIG_PACKAGE_luci-app-easytier=y
CONFIG_PACKAGE_luci-i18n-easytier-zh-cn=y

# DDNSTO (远程控制)
CONFIG_PACKAGE_luci-app-ddnsto=y
CONFIG_PACKAGE_luci-i18n-ddnsto-zh-cn=y

# --- 性能优化 (irqbalance) ---
CONFIG_PACKAGE_irqbalance=y

# UPnP 自动端口映射 (玩游戏/BT下载必备)
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-i18n-upnp-zh-cn=y

# 文件管理器 (网页版资源管理)
CONFIG_PACKAGE_luci-app-filemanager=y
CONFIG_PACKAGE_luci-i18n-filemanager-zh-cn=y

# 网页终端 (在网页里输命令)
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
CONFIG_PACKAGE_ttyd=y

# Argon 主题 
CONFIG_PACKAGE_luci-theme-argon=y
# 设置为默认主题 
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-i18n-argon-config-zh-cn=y
# --- KuCat主题: ---
CONFIG_PACKAGE_luci-theme-kucat=y

# CPU 性能优化调节 (CPU 频率设置)
CONFIG_PACKAGE_luci-app-cpufreq=y
CONFIG_PACKAGE_luci-i18n-cpufreq-zh-cn=y

# --- 上网时间控制 ---
CONFIG_PACKAGE_luci-app-access-control=y
CONFIG_PACKAGE_luci-i18n-access-control-zh-cn=y

# 分区扩容工具包 (fdisk, parted, resize2fs)
CONFIG_PACKAGE_fdisk=y
CONFIG_PACKAGE_parted=y
CONFIG_PACKAGE_resize2fs=y
CONFIG_PACKAGE_lsblk=y
# 挂载点管理
CONFIG_PACKAGE_luci-app-diskman=y
CONFIG_PACKAGE_luci-i18n-diskman-zh-cn=y

# --- Docker 容器 (轻量化配置) ---
# Docker 界面 (Dockerman)
CONFIG_PACKAGE_luci-app-dockerman=y
CONFIG_PACKAGE_luci-i18n-dockerman-zh-cn=y
# Docker 引擎 (标准版，通过Zram优化内存)
CONFIG_PACKAGE_docker=y
CONFIG_PACKAGE_dockerd=y
# Zram 内存压缩 (给 Docker 腾空间，小内存救星)
CONFIG_PACKAGE_zram-swap=y
CONFIG_PACKAGE_kmod-zram=y

# --- 禁用源码自带的旧版 UU (防止冲突) ---
CONFIG_PACKAGE_luci-app-uugamebooster=n
CONFIG_PACKAGE_uugamebooster=n
# --- 启用拉取的新版 UU (24.02适配) ---
CONFIG_PACKAGE_luci-app-UUGameAcc=y
CONFIG_PACKAGE_luci-i18n-UUGameAcc-zh-cn=y

# 网络测速工具
CONFIG_PACKAGE_luci-i18n-netspeedtest-zh-cn=y
# 连接状态追踪
CONFIG_PACKAGE_conntrackd=y
